@import "tailwindcss";

:root {
  --background: #022b21;
  --foreground: #ffffff;
  --color-primary: #035642;
  --color-accent: #B79527;
  --ui-panel-bg: #03564226;
  --ui-panel-solid: #035642;
  --ui-panel-soft: #03564214;
  --ui-panel-hover: #03564233;
  --ui-panel-border: #B7952733;
  --ui-item-bg: #0356421a;
  --ui-item-hover: #03564226;
  --ui-item-border: #03564233;
  --ui-item-border-hover: #B7952766;
  --ui-accent-soft: #B7952733;
  --ui-accent-strong: #B7952766;
  --ui-text: #ffffff;
  --ui-text-muted: rgba(255, 255, 255, 0.6);
  --ui-input-bg: #0356421a;
  --ui-input-border: #03564233;
  --ui-input-focus: #B79527;
  --ui-switch-off: #03564233;
  --ui-switch-on: #B79527;
  --ui-overlay: #022b21cc;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Typography utilities */
.font-display {
  font-family: var(--font-display), Georgia, serif;
}

.font-clock {
  font-family: var(--font-mono), monospace;
}

/* Hide scrollbars */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Ken Burns animation for images */
@keyframes ken-burns {
  0% {
    transform: scale(1) translate(0, 0);
  }
  100% {
    transform: scale(1.1) translate(-2%, -2%);
  }
}

.animate-ken-burns {
  animation: ken-burns linear forwards;
}

/* Ticker animation */
@keyframes ticker {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-ticker {
  animation: ticker linear infinite;
}

/* Poster stack – active card shuffles out left, scales up, comes back on top */
@keyframes poster-move-out-in {
  0% {
    translate: 0 0;
    scale: 1;
  }
  50% {
    translate: -100% 0;
    scale: 1.15;
  }
  100% {
    translate: 0 0;
    scale: 1;
    z-index: 10;
  }
}

/* Poster stack – all cards briefly straighten while the active one animates */
@keyframes poster-straighten {
  50% {
    rotate: 0deg;
  }
}

/* Fade in animation */
@keyframes fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out forwards;
}

/* Staggered children animation */
.stagger-children > * {
  opacity: 0;
  animation: fade-in 0.4s ease-out forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }
.stagger-children > *:nth-child(7) { animation-delay: 300ms; }
.stagger-children > *:nth-child(8) { animation-delay: 350ms; }
.stagger-children > *:nth-child(9) { animation-delay: 400ms; }
.stagger-children > *:nth-child(10) { animation-delay: 450ms; }

/* Ambient glow effect */
.glow {
  box-shadow: 0 0 40px var(--color-accent), 0 0 80px rgba(183, 149, 39, 0.3);
}

/* GridStack overrides */
.grid-stack {
  background: transparent !important;
  overflow: visible !important;
}

.grid-stack-item {
  background: transparent;
}

.grid-stack-item-content {
  background: transparent;
  overflow: visible !important;
  border-radius: 0.75rem;
}

/* Allow toolbar to overflow */
.grid-stack-item {
  overflow: visible !important;
}

/* Highlight widget on hover for better visibility */
.grid-stack-item:hover {
  z-index: 10;
}

.grid-stack-item:hover > .grid-stack-item-content {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

.grid-stack-placeholder > .placeholder-content {
  background: var(--color-accent) !important;
  opacity: 0.2 !important;
  border-radius: 0.75rem;
  border: 2px dashed var(--color-accent);
}

/* Resize handles - always visible with larger hit areas */
.ui-resizable-handle {
  background: var(--color-accent);
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 1000 !important;
  pointer-events: none;
}

.grid-stack-item:hover .ui-resizable-handle {
  opacity: 0.8;
  pointer-events: auto;
}

.grid-stack-item:hover .ui-resizable-handle:hover {
  opacity: 1;
  transform: scale(1.1);
}

/* SE corner - main resize handle */
.ui-resizable-se {
  width: 20px !important;
  height: 20px !important;
  right: 0 !important;
  bottom: 0 !important;
  cursor: se-resize;
  border-radius: 4px 0 8px 0;
  background: var(--color-accent) !important;
}

/* SW corner */
.ui-resizable-sw {
  width: 20px !important;
  height: 20px !important;
  left: 0 !important;
  bottom: 0 !important;
  cursor: sw-resize;
  border-radius: 0 4px 0 8px;
  background: var(--color-accent) !important;
}

/* East edge */
.ui-resizable-e {
  width: 8px !important;
  right: 0 !important;
  top: 24px !important;
  bottom: 24px !important;
  cursor: ew-resize;
  border-radius: 4px 0 0 4px;
  background: var(--color-accent) !important;
}

/* West edge */
.ui-resizable-w {
  width: 8px !important;
  left: 0 !important;
  top: 24px !important;
  bottom: 24px !important;
  cursor: ew-resize;
  border-radius: 0 4px 4px 0;
  background: var(--color-accent) !important;
}

/* South edge */
.ui-resizable-s {
  height: 8px !important;
  bottom: 0 !important;
  left: 24px !important;
  right: 24px !important;
  cursor: ns-resize;
  border-radius: 4px 4px 0 0;
  background: var(--color-accent) !important;
}

/* North edge - for expanding up */
.ui-resizable-n {
  height: 8px !important;
  top: 0 !important;
  left: 24px !important;
  right: 24px !important;
  cursor: ns-resize;
  border-radius: 0 0 4px 4px;
  background: var(--color-accent) !important;
}

/* NE corner */
.ui-resizable-ne {
  width: 20px !important;
  height: 20px !important;
  right: 0 !important;
  top: 0 !important;
  cursor: ne-resize;
  border-radius: 0 8px 0 4px;
  background: var(--color-accent) !important;
}

/* NW corner */
.ui-resizable-nw {
  width: 20px !important;
  height: 20px !important;
  left: 0 !important;
  top: 0 !important;
  cursor: nw-resize;
  border-radius: 8px 0 4px 0;
  background: var(--color-accent) !important;
}

/* Active drag/resize state */
.grid-stack-item.ui-draggable-dragging,
.grid-stack-item.ui-resizable-resizing {
  z-index: 1000 !important;
}

.grid-stack-item.ui-draggable-dragging > .grid-stack-item-content,
.grid-stack-item.ui-resizable-resizing > .grid-stack-item-content {
  outline: 3px solid var(--color-accent) !important;
  box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}

/* Drag handle styling */
.gs-drag-handle {
  cursor: move;
  touch-action: none;
  opacity: 0;
  transition: opacity 0.2s;
  border: 1px dashed rgba(255, 255, 255, 0.25);
  background: rgba(0, 0, 0, 0.2);
  border-radius: 0.5rem;
  pointer-events: none;
}

.grid-stack-item:hover .gs-drag-handle {
  opacity: 1;
  pointer-events: auto;
}

/* Compact widgets: keep drag/resize usable at very small sizes */
.grid-stack-item.gs-compact .gs-drag-handle {
  inset: 0;
}

.grid-stack-item.gs-compact.ui-resizable-autohide > .ui-resizable-handle {
  display: block;
}

.grid-stack-item.gs-compact .ui-resizable-handle {
  opacity: 0;
}

.grid-stack-item.gs-compact:hover .ui-resizable-handle {
  opacity: 0.95;
}

.grid-stack-item.gs-compact .ui-resizable-se,
.grid-stack-item.gs-compact .ui-resizable-sw,
.grid-stack-item.gs-compact .ui-resizable-ne,
.grid-stack-item.gs-compact .ui-resizable-nw {
  width: 24px !important;
  height: 24px !important;
}

.grid-stack-item.gs-compact .ui-resizable-e,
.grid-stack-item.gs-compact .ui-resizable-w {
  width: 10px !important;
}

.grid-stack-item.gs-compact .ui-resizable-s,
.grid-stack-item.gs-compact .ui-resizable-n {
  height: 10px !important;
}

.grid-stack-item.gs-compact .ui-resizable-e,
.grid-stack-item.gs-compact .ui-resizable-w {
  top: 6px !important;
  bottom: 6px !important;
}

.grid-stack-item.gs-compact .ui-resizable-s,
.grid-stack-item.gs-compact .ui-resizable-n {
  left: 6px !important;
  right: 6px !important;
}

/* Grid lines (subtle) */
.gs-wrapper {
  background-image:
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: calc(100% / var(--grid-columns, 12)) calc(100% / var(--grid-rows, 8));
}

/* Subtle noise texture overlay */
.noise-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 1;
}

/* Selection styling */
::selection {
  background: var(--color-accent);
  color: var(--color-primary);
}
